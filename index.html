<!DOCTYPE html>
<html lang="es">
<head>
  <h1>ðŸ“… Calendario de Reservas</h1>
<p>Agenda tu cita fÃ¡cilmente</p>
<img src="calendario.png" width="200px" alt="Calendario">

  
  <meta charset="UTF-8">
  <title>Agendar Hora</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 40px;
      background-color: #f2f2f2;
    }

    .container {
      background: white;
      padding: 50px;
      max-width: 500px;
      margin: left;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: left;
    }

    label, input, button {
      display: block;
      width: 100%;
      margin-bottom: 15px;
    }

    input, button {
      padding: 10px;
      font-size: 16px;
    }

    button {
      background-color: #4CAF50;
      color: white;
      border: none;
      cursor: pointer;
    }

    button:hover {
      background-color: #45a049;
    }

    .resultado {
      margin-top: 20px;
      font-weight: bold;
      text-align: center;
    }
  </style>
</head>
<body>

  <div class="container">
    <h2>Agendar Hora</h2>

    <label for="nombre">Nombre:</label>
    <input type="text" id="nombre" placeholder="Ej: Juanita" required>

    <label for="fecha">Fecha:</label>
    <input type="date" id="fecha" required>

    <label for="hora">Hora:</label>
    <input type="time" id="hora" required>

    <h3>Motivo de su consulta</h3>
    <textarea name="mensaje" rows="4" cols="40">Escriba su mensaje aquÃ­</textarea>
    

    <button onclick="agendar()">Agendar</button>

    <div class="resultado" id="resultado"></div>

    <div>
      <h3>Horas ya agendadas:</h3>
      <ul id="agenda-lista"></ul>
    </div>
  </div>

  <form action="procesar_cita.php" method="post">
    <div>
      <label for="nombre">Nombre:</label>
      <input type="text" id="nombre" name="nombre" value="Ej. Juanita">
    </div>
    <div>
      <label for="fecha">Fecha:</label>
      <input type="text" id="fecha" name="fecha" placeholder="dd-mm-aaaa">
    </div>
    <div>
      <label for="hora">Hora:</label>
      <input type="text" id="hora" name="hora" placeholder="--:--">
    </div>
    <div>
      <label for="motivo">Motivo de su consulta:</label>
      <textarea id="motivo" name="motivo">Escriba su mensaje aquÃ­</textarea>
    </div>
    <button type="submit">Agendar</button>
  </form>
  
  <script>
    function agendar() {
      const nombre = document.getElementById("nombre").value;
      const fecha = document.getElementById("fecha").value;
      const hora = document.getElementById("hora").value;
      const resultado = document.getElementById("resultado");

      if (!nombre || !fecha || !hora) {
        resultado.textContent = "Por favor, completa todos los campos.";
        resultado.style.color = "red";
        return;
      }

      const agendado = `${nombre} ha agendado una hora para el ${fecha} a las ${hora} hrs.`;
      resultado.textContent = agendado;
      resultado.style.color = "green";
    }
  </script>

<script>
  // FunciÃ³n para guardar en localStorage
  function guardarCitas(citas) {
    localStorage.setItem("citas", JSON.stringify(citas));
  }

  // FunciÃ³n para cargar citas guardadas
  function cargarCitas() {
    const agendaLista = document.getElementById("agenda-lista");
    const citas = JSON.parse(localStorage.getItem("citas")) || [];

    citas.forEach(texto => {
      const li = document.createElement("li");
      li.textContent = texto;
      agendaLista.appendChild(li);
    });
  }

  // FunciÃ³n para agendar
  function agendar() {
    const nombre = document.getElementById("nombre").value;
    const fecha = document.getElementById("fecha").value;
    const hora = document.getElementById("hora").value;
    const resultado = document.getElementById("resultado");
    const agendaLista = document.getElementById("agenda-lista");

    if (!nombre || !fecha || !hora) {
      resultado.textContent = "Por favor, completa todos los campos.";
      resultado.style.color = "red";
      return;
    }
    
    const texto = `${nombre} - ${fecha} a las ${hora} hrs`;

    // Agregar a la lista visual
    const li = document.createElement("li");
    li.textContent = texto;
    agendaLista.appendChild(li);

    // Guardar en localStorage
    const citasGuardadas = JSON.parse(localStorage.getItem("citas")) || [];
    citasGuardadas.push(texto);
    guardarCitas(citasGuardadas);

    // Mostrar mensaje
    resultado.textContent = `Â¡Hora agendada correctamente!`;
    resultado.style.color = "green";

    // Limpiar campos
    document.getElementById("nombre").value = "";
    document.getElementById("fecha").value = "";
    document.getElementById("hora").value = "";
  }

  // Cargar citas al iniciar la pÃ¡gina
  window.onload = cargarCitas;
</script>


</body>
</html>
